

<p ng-show="posts.length == 0">Nothing here</p>

<ul class="masonry-wrap" isotope-container class="isotope">

<!-- <li ng-repeat="post in posts | orderBy: '-upvotes'" class="post masonry" isotope-item> -->

<li ng-repeat="post in posts | reverse" class="post masonry isotope-item" isotope-item>

  <div class="post-header" ng-switch="post.urlType">


    <div ng-switch-when="video">
      <div class="embed-container">
        <embed code="code" url="{{post.url}}" type="{{post.urlType}}"></embed>
      </div>
      <div class="post-title">
        <span class="post-type icon icon-video"></span><a title="Show post '{{post.title}}'" ng-click="showDetail(post)">{{post.title}}</a>
      </div>
    </div>


    <div ng-switch-when="audio">
      <div class="embed-container">
        <embed code="code" url="{{post.url}}" type="{{post.urlType}}"></embed>
      </div>
      <div class="post-title">
        <span class="post-type icon icon-audio"></span><a title="Show post '{{post.title}}'" ng-click="showDetail(post)">{{post.title}}</a>
      </div>
    </div>


    <div ng-switch-when="link">
      <div class="post-title no-margin">
        <span class="post-type icon icon-link"></span><a title="Show post '{{post.title}}'" ng-click="showDetail(post)">{{post.title}}</a>
      </div>
    </div>


    <div ng-switch-when="image">
    <picture code="code" url="{{post.url}}" type="{{post.urlType}}"></picture>
      <!-- <img ng-src="{{post.url}}">-->
      <div class="post-title">
        <span class="post-type icon icon-image"></span><a title="Show post '{{post.title}}'" ng-click="showDetail(post)">{{post.title}}</a>
      </div>
    </div>


    <div ng-switch-when="text">
      <div class="post-title no-margin">
        <span class="post-type icon icon-text"></span><a ng-click="showDetail(post)">{{post.title}} - {{post.text}}</a>
      </div>
    </div>


  </div><!--post-header-->



  <ul class="post-meta">
    <li class="author"><a title="Show profile" ng-click="getauthorprofile(post)">{{post.author}}</a></li>
    <li class="views">{{post.views}} Views</li>
    <li class="comments">{{post.comments.length}} Comments</li> <!-- TODO: show comments -->
    <li class="time">{{post.time}}</li>
  </ul>

  <ul class="post-rating">
    <li><div class="count">{{post.votes}}</div></li>
    <li ng-show="signedIn() && !isOwn(post)"><a class="{{getStyleForVoteUpPost(post)}}" title="Vote up" ng-click="voteUpPost(post)"></a></li>
    <li ng-show="signedIn() && !isOwn(post)"><a class="{{getStyleForVoteDownPost(post)}}" title="Vote down" ng-click="voteDownPost(post)"></a></li>
    <li ng-show="user.uid === post.authorUID" ng-click="deletePost(post)"><a class="icon icon-delete" title="Delete"></a></li>
  </ul>

  <div class="post-footer"></div>


</li> <!--ng-repeat end-->

</ul><!--masonry-->



<notification></notification>


